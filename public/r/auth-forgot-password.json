{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "auth-forgot-password",
  "type": "registry:component",
  "title": "Auth Forgot Password",
  "description": "Request password reset link via email.",
  "registryDependencies": ["button", "card", "field", "input-group"],
  "files": [
    {
      "path": "registry/new-york/blocks/auth/auth-forgot-password.tsx",
      "content": "\"use client\";\n\nimport { ArrowLeft, CheckCircle2, Loader2, Mail } from \"lucide-react\";\nimport { useCallback, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Field,\n  FieldContent,\n  FieldDescription,\n  FieldError,\n  FieldLabel,\n} from \"@/components/ui/field\";\nimport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupInput,\n} from \"@/components/ui/input-group\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AuthForgotPasswordProps {\n  onSubmit?: (email: string) => void;\n  onBack?: () => void;\n  className?: string;\n  defaultEmail?: string;\n  isLoading?: boolean;\n  isSuccess?: boolean;\n  errors?: {\n    email?: string;\n    general?: string;\n  };\n  successMessage?: string;\n}\n\nexport default function AuthForgotPassword({\n  onSubmit,\n  onBack,\n  className,\n  defaultEmail = \"\",\n  isLoading = false,\n  isSuccess = false,\n  errors,\n  successMessage = \"We&apos;ve sent a password reset link to your email address.\",\n}: AuthForgotPasswordProps) {\n  const [email, setEmail] = useState(defaultEmail);\n  const [localErrors, setLocalErrors] = useState<{\n    email?: string;\n  }>({});\n\n  const validateEmail = (value: string): string | undefined => {\n    if (!value.trim()) {\n      return \"Email is required\";\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(value)) {\n      return \"Please enter a valid email address\";\n    }\n    return;\n  };\n\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      e.preventDefault();\n\n      const emailError = validateEmail(email);\n\n      if (emailError) {\n        setLocalErrors({ email: emailError });\n        return;\n      }\n\n      setLocalErrors({});\n      onSubmit?.(email.trim());\n    },\n    [email, onSubmit]\n  );\n\n  const handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setEmail(value);\n    if (localErrors.email) {\n      setLocalErrors((prev) => ({ ...prev, email: validateEmail(value) }));\n    }\n  };\n\n  const emailError = errors?.email || localErrors.email;\n  const generalError = errors?.general;\n\n  if (isSuccess) {\n    return (\n      <Card className={cn(\"w-full shadow-xs\", className)}>\n        <CardHeader>\n          <CardTitle>Check your email</CardTitle>\n          <CardDescription>\n            We&apos;ve sent you a password reset link\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-col gap-6\">\n            <div className=\"flex flex-col items-center gap-4 rounded-lg border border-primary/20 bg-primary/5 p-6 text-center\">\n              <div className=\"flex size-12 items-center justify-center rounded-full bg-primary/10\">\n                <CheckCircle2 className=\"size-6 text-primary\" />\n              </div>\n              <div className=\"flex flex-col gap-2\">\n                <p className=\"font-medium text-sm\">{successMessage}</p>\n                <p className=\"text-muted-foreground text-sm\">\n                  If you don&apos;t see the email, check your spam folder.\n                </p>\n              </div>\n            </div>\n\n            {onBack && (\n              <Button\n                className=\"w-full\"\n                onClick={onBack}\n                type=\"button\"\n                variant=\"outline\"\n              >\n                <ArrowLeft className=\"size-4\" />\n                Back to sign in\n              </Button>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className={cn(\"w-full shadow-xs\", className)}>\n      <CardHeader>\n        <CardTitle>Reset password</CardTitle>\n        <CardDescription>\n          Enter your email address and we&apos;ll send you a link to reset your\n          password\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <form className=\"flex flex-col gap-6\" onSubmit={handleSubmit}>\n          {generalError && (\n            <div\n              aria-live=\"polite\"\n              className=\"rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-destructive text-sm\"\n              role=\"alert\"\n            >\n              {generalError}\n            </div>\n          )}\n\n          <Field data-invalid={!!emailError}>\n            <FieldLabel htmlFor=\"forgot-password-email\">\n              Email\n              <span aria-label=\"required\" className=\"text-destructive\">\n                *\n              </span>\n            </FieldLabel>\n            <FieldContent>\n              <InputGroup aria-invalid={!!emailError}>\n                <InputGroupAddon>\n                  <Mail className=\"size-4\" />\n                </InputGroupAddon>\n                <InputGroupInput\n                  aria-describedby={\n                    emailError ? \"forgot-password-email-error\" : undefined\n                  }\n                  aria-invalid={!!emailError}\n                  autoComplete=\"email\"\n                  id=\"forgot-password-email\"\n                  inputMode=\"email\"\n                  name=\"email\"\n                  onChange={handleEmailChange}\n                  placeholder=\"name@example.com\"\n                  required\n                  type=\"email\"\n                  value={email}\n                />\n              </InputGroup>\n              {emailError && (\n                <FieldError id=\"forgot-password-email-error\">\n                  {emailError}\n                </FieldError>\n              )}\n              <FieldDescription>\n                We&apos;ll send a password reset link to this email address\n              </FieldDescription>\n            </FieldContent>\n          </Field>\n\n          <div className=\"flex flex-col gap-2\">\n            <Button\n              aria-busy={isLoading}\n              className=\"w-full\"\n              data-loading={isLoading}\n              disabled={isLoading}\n              type=\"submit\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"size-4 animate-spin\" />\n                  Sending reset linkâ€¦\n                </>\n              ) : (\n                \"Send reset link\"\n              )}\n            </Button>\n\n            {onBack && (\n              <Button\n                className=\"w-full\"\n                onClick={onBack}\n                type=\"button\"\n                variant=\"ghost\"\n              >\n                <ArrowLeft className=\"size-4\" />\n                Back to sign in\n              </Button>\n            )}\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  );\n}\n",
      "type": "registry:component"
    }
  ]
}

{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ai-settings-panel",
  "type": "registry:ui",
  "title": "AI Settings Panel",
  "description": "Configure AI model parameters and behavior settings.",
  "registryDependencies": [
    "badge",
    "button",
    "card",
    "field",
    "input-group",
    "select",
    "separator",
    "slider",
    "textarea"
  ],
  "files": [
    {
      "path": "registry/new-york/blocks/ai/ai-settings-panel.tsx",
      "content": "\"use client\";\n\nimport { Loader2, RotateCcw, Save, Settings, Trash2 } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Field,\n  FieldContent,\n  FieldDescription,\n  FieldLabel,\n} from \"@/components/ui/field\";\nimport { InputGroup, InputGroupInput } from \"@/components/ui/input-group\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AISettings {\n  temperature?: number;\n  maxTokens?: number;\n  topP?: number;\n  topK?: number;\n  frequencyPenalty?: number;\n  presencePenalty?: number;\n  systemPrompt?: string;\n  model?: string;\n}\n\nexport interface AISettingsPreset {\n  id: string;\n  name: string;\n  description?: string;\n  settings: AISettings;\n}\n\nexport interface AISettingsPanelProps {\n  settings?: AISettings;\n  presets?: AISettingsPreset[];\n  onSettingsChange?: (settings: AISettings) => void;\n  onSave?: (settings: AISettings) => Promise<void>;\n  onReset?: () => void;\n  onLoadPreset?: (presetId: string) => void;\n  onSavePreset?: (name: string, settings: AISettings) => Promise<void>;\n  onDeletePreset?: (presetId: string) => Promise<void>;\n  className?: string;\n  showAdvanced?: boolean;\n  availableModels?: string[];\n}\n\nconst defaultSettings: AISettings = {\n  temperature: 0.7,\n  maxTokens: 2000,\n  topP: 1.0,\n  topK: 40,\n  frequencyPenalty: 0.0,\n  presencePenalty: 0.0,\n  systemPrompt: \"\",\n  model: \"gpt-4\",\n};\n\nexport default function AISettingsPanel({\n  settings = defaultSettings,\n  presets = [],\n  onSettingsChange,\n  onSave,\n  onReset,\n  onLoadPreset,\n  onSavePreset,\n  onDeletePreset,\n  className,\n  showAdvanced = false,\n  availableModels = [\n    \"gpt-4\",\n    \"gpt-3.5-turbo\",\n    \"claude-3-opus\",\n    \"claude-3-sonnet\",\n  ],\n}: AISettingsPanelProps) {\n  const [localSettings, setLocalSettings] = useState<AISettings>(settings);\n  const [isSaving, setIsSaving] = useState(false);\n  const [showAdvancedSettings, setShowAdvancedSettings] =\n    useState(showAdvanced);\n\n  const updateSetting = <K extends keyof AISettings>(\n    key: K,\n    value: AISettings[K]\n  ) => {\n    const newSettings = { ...localSettings, [key]: value };\n    setLocalSettings(newSettings);\n    onSettingsChange?.(newSettings);\n  };\n\n  const handleSave = async () => {\n    if (!onSave) return;\n\n    setIsSaving(true);\n    try {\n      await onSave(localSettings);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleReset = () => {\n    setLocalSettings(defaultSettings);\n    onReset?.();\n    onSettingsChange?.(defaultSettings);\n  };\n\n  const hasChanges = JSON.stringify(localSettings) !== JSON.stringify(settings);\n\n  return (\n    <Card className={cn(\"w-full shadow-xs\", className)}>\n      <CardHeader>\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between\">\n          <div className=\"flex min-w-0 flex-1 flex-col gap-1\">\n            <CardTitle className=\"wrap-break-word\">AI Settings</CardTitle>\n            <CardDescription className=\"wrap-break-word\">\n              Configure AI model parameters and behavior\n            </CardDescription>\n          </div>\n          <div className=\"flex flex-col gap-2 sm:shrink-0 sm:flex-row\">\n            {onReset && (\n              <Button\n                className=\"w-full sm:w-auto\"\n                onClick={handleReset}\n                type=\"button\"\n                variant=\"outline\"\n              >\n                <RotateCcw className=\"size-4\" />\n                <span className=\"whitespace-nowrap\">Reset</span>\n              </Button>\n            )}\n            {onSave && (\n              <Button\n                aria-busy={isSaving}\n                className=\"w-full sm:w-auto\"\n                data-loading={isSaving}\n                disabled={!hasChanges}\n                onClick={handleSave}\n                type=\"button\"\n              >\n                {isSaving ? (\n                  <>\n                    <Loader2 className=\"size-4 animate-spin\" />\n                    <span className=\"whitespace-nowrap\">Save</span>\n                  </>\n                ) : (\n                  <>\n                    <Save className=\"size-4\" />\n                    <span className=\"whitespace-nowrap\">Save</span>\n                  </>\n                )}\n              </Button>\n            )}\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"flex flex-col gap-6\">\n          {presets.length > 0 && onLoadPreset && (\n            <div className=\"flex flex-col gap-2\">\n              <FieldLabel>Presets</FieldLabel>\n              <div className=\"flex flex-wrap gap-2\">\n                {presets.map((preset, index) => (\n                  <Badge\n                    className=\"w-fit cursor-pointer gap-2 px-0.5 pl-3.5\"\n                    key={index}\n                    onClick={() => onLoadPreset(preset.id)}\n                    variant=\"outline\"\n                  >\n                    <span>{preset.name}</span>\n                    {onDeletePreset && (\n                      <Button\n                        aria-label={`Delete preset ${preset.name}`}\n                        className=\"rounded-full\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          onDeletePreset(preset.id);\n                        }}\n                        size=\"icon-sm\"\n                        type=\"button\"\n                      >\n                        <Trash2 className=\"shrin size-2\" />\n                      </Button>\n                    )}\n                  </Badge>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {presets.length > 0 && <Separator />}\n\n          <div className=\"flex flex-col gap-4\">\n            {availableModels.length > 0 && (\n              <Field>\n                <FieldLabel htmlFor=\"model\">Model</FieldLabel>\n                <FieldContent>\n                  <Select\n                    onValueChange={(value) => updateSetting(\"model\", value)}\n                    value={localSettings.model ?? availableModels[0] ?? \"\"}\n                  >\n                    <SelectTrigger id=\"model\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {availableModels.map((model) => (\n                        <SelectItem key={model} value={model}>\n                          {model}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </FieldContent>\n              </Field>\n            )}\n\n            <Field>\n              <div className=\"flex items-center justify-between\">\n                <FieldLabel htmlFor=\"temperature\">\n                  Temperature: {localSettings.temperature?.toFixed(1) || \"0.7\"}\n                </FieldLabel>\n                <Badge className=\"text-xs\" variant=\"secondary\">\n                  {localSettings.temperature === 0\n                    ? \"Deterministic\"\n                    : localSettings.temperature &&\n                        localSettings.temperature < 0.5\n                      ? \"Focused\"\n                      : localSettings.temperature &&\n                          localSettings.temperature < 1.0\n                        ? \"Balanced\"\n                        : \"Creative\"}\n                </Badge>\n              </div>\n              <FieldContent>\n                <Slider\n                  id=\"temperature\"\n                  max={2}\n                  min={0}\n                  onValueChange={(value) =>\n                    updateSetting(\"temperature\", value[0])\n                  }\n                  step={0.1}\n                  value={[localSettings.temperature || 0.7]}\n                />\n                <FieldDescription>\n                  Controls randomness. Lower values make responses more focused\n                  and deterministic.\n                </FieldDescription>\n              </FieldContent>\n            </Field>\n\n            <Field>\n              <FieldLabel htmlFor=\"max-tokens\">Max Tokens</FieldLabel>\n              <FieldContent>\n                <InputGroup>\n                  <InputGroupInput\n                    id=\"max-tokens\"\n                    max={32_000}\n                    min={1}\n                    onChange={(e) =>\n                      updateSetting(\n                        \"maxTokens\",\n                        Number.parseInt(e.target.value) || 2000\n                      )\n                    }\n                    type=\"number\"\n                    value={localSettings.maxTokens || 2000}\n                  />\n                </InputGroup>\n                <FieldDescription>\n                  Maximum number of tokens in the response\n                </FieldDescription>\n              </FieldContent>\n            </Field>\n\n            <Field>\n              <FieldLabel htmlFor=\"system-prompt\">System Prompt</FieldLabel>\n              <FieldContent>\n                <Textarea\n                  id=\"system-prompt\"\n                  onChange={(e) =>\n                    updateSetting(\"systemPrompt\", e.target.value)\n                  }\n                  placeholder=\"Enter system prompt to guide AI behavior...\"\n                  rows={4}\n                  value={localSettings.systemPrompt || \"\"}\n                />\n                <FieldDescription>\n                  Instructions that guide the AI&apos;s behavior and responses\n                </FieldDescription>\n              </FieldContent>\n            </Field>\n          </div>\n\n          <Separator />\n\n          <div className=\"flex flex-col gap-4\">\n            <Button\n              className=\"w-full sm:w-auto\"\n              onClick={() => setShowAdvancedSettings(!showAdvancedSettings)}\n              type=\"button\"\n              variant=\"ghost\"\n            >\n              <Settings className=\"size-4\" />\n              {showAdvancedSettings ? \"Hide\" : \"Show\"} Advanced Settings\n            </Button>\n\n            {showAdvancedSettings && (\n              <div className=\"flex flex-col gap-4 rounded-lg border bg-muted/30 p-4\">\n                <Field>\n                  <div className=\"flex items-center justify-between\">\n                    <FieldLabel htmlFor=\"top-p\">\n                      Top P: {localSettings.topP?.toFixed(2) || \"1.00\"}\n                    </FieldLabel>\n                  </div>\n                  <FieldContent>\n                    <Slider\n                      id=\"top-p\"\n                      max={1}\n                      min={0}\n                      onValueChange={(value) => updateSetting(\"topP\", value[0])}\n                      step={0.01}\n                      value={[localSettings.topP || 1.0]}\n                    />\n                    <FieldDescription>\n                      Nucleus sampling: considers tokens with top-p probability\n                      mass\n                    </FieldDescription>\n                  </FieldContent>\n                </Field>\n\n                <Field>\n                  <FieldLabel htmlFor=\"top-k\">\n                    Top K: {localSettings.topK || \"40\"}\n                  </FieldLabel>\n                  <FieldContent>\n                    <Slider\n                      id=\"top-k\"\n                      max={100}\n                      min={1}\n                      onValueChange={(value) => updateSetting(\"topK\", value[0])}\n                      step={1}\n                      value={[localSettings.topK || 40]}\n                    />\n                    <FieldDescription>\n                      Limits sampling to top K most likely tokens\n                    </FieldDescription>\n                  </FieldContent>\n                </Field>\n\n                <Field>\n                  <div className=\"flex items-center justify-between\">\n                    <FieldLabel htmlFor=\"frequency-penalty\">\n                      Frequency Penalty:{\" \"}\n                      {localSettings.frequencyPenalty?.toFixed(1) || \"0.0\"}\n                    </FieldLabel>\n                  </div>\n                  <FieldContent>\n                    <Slider\n                      id=\"frequency-penalty\"\n                      max={2}\n                      min={-2}\n                      onValueChange={(value) =>\n                        updateSetting(\"frequencyPenalty\", value[0])\n                      }\n                      step={0.1}\n                      value={[localSettings.frequencyPenalty || 0.0]}\n                    />\n                    <FieldDescription>\n                      Reduces likelihood of repeating tokens (positive) or\n                      increases it (negative)\n                    </FieldDescription>\n                  </FieldContent>\n                </Field>\n\n                <Field>\n                  <div className=\"flex items-center justify-between\">\n                    <FieldLabel htmlFor=\"presence-penalty\">\n                      Presence Penalty:{\" \"}\n                      {localSettings.presencePenalty?.toFixed(1) || \"0.0\"}\n                    </FieldLabel>\n                  </div>\n                  <FieldContent>\n                    <Slider\n                      id=\"presence-penalty\"\n                      max={2}\n                      min={-2}\n                      onValueChange={(value) =>\n                        updateSetting(\"presencePenalty\", value[0])\n                      }\n                      step={0.1}\n                      value={[localSettings.presencePenalty || 0.0]}\n                    />\n                    <FieldDescription>\n                      Reduces likelihood of talking about new topics (positive)\n                      or increases it (negative)\n                    </FieldDescription>\n                  </FieldContent>\n                </Field>\n              </div>\n            )}\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n",
      "type": "registry:ui"
    }
  ]
}
